<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.0 -->
<title>How to grant read and write permissions in DB2 | Kippel</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="How to grant read and write permissions in DB2" />
<meta name="author" content="Alan Verdugo" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="    In older versions of DB2, the ever useful command &#8220;grant dataaccess&#8221; was not implemented yet. So, in order to grant permissions over a whole database, it is needed to grant the permissions manually, object by object. There are ways to do this relatively fast. The following example details how to easily grant permissions to a user or to a group in a database which runs in DB2 version 9.5.0.5:" />
<meta property="og:description" content="    In older versions of DB2, the ever useful command &#8220;grant dataaccess&#8221; was not implemented yet. So, in order to grant permissions over a whole database, it is needed to grant the permissions manually, object by object. There are ways to do this relatively fast. The following example details how to easily grant permissions to a user or to a group in a database which runs in DB2 version 9.5.0.5:" />
<link rel="canonical" href="http://localhost:4000/blog/db2-permissions" />
<meta property="og:url" content="http://localhost:4000/blog/db2-permissions" />
<meta property="og:site_name" content="Kippel" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-04-23T12:14:25-05:00" />
<script type="application/ld+json">
{"description":"    In older versions of DB2, the ever useful command &#8220;grant dataaccess&#8221; was not implemented yet. So, in order to grant permissions over a whole database, it is needed to grant the permissions manually, object by object. There are ways to do this relatively fast. The following example details how to easily grant permissions to a user or to a group in a database which runs in DB2 version 9.5.0.5:","author":{"@type":"Person","name":"Alan Verdugo"},"@type":"BlogPosting","url":"http://localhost:4000/blog/db2-permissions","headline":"How to grant read and write permissions in DB2","dateModified":"2014-04-23T12:14:25-05:00","datePublished":"2014-04-23T12:14:25-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/db2-permissions"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Kippel" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/"></a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/sample-page.html">Sample Page</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">How to grant read and write permissions in DB2</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2014-04-23T12:14:25-05:00" itemprop="datePublished">Apr 23, 2014
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Alan Verdugo</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p style="text-align: justify;">
      In older versions of DB2, the ever useful command &#8220;<strong>grant dataaccess</strong>&#8221; was not implemented yet. So, in order to grant permissions over a whole database, it is needed to grant the permissions manually, object by object. There are ways to do this relatively fast. The following example details how to easily grant permissions to a user or to a group in a database which runs in DB2 version 9.5.0.5:
</p>

<p style="text-align: justify;">
      First, connect to the desired DB as the instance owner. For example, we will connect to the database named &#8220;<strong>MYSAMPLEDB</strong>&#8221; as its instance owner, named &#8220;<strong>instanceowner</strong>&#8220;:
</p>

<pre class="theme:solarized-dark font:ubuntu-mono nums:false wrap:true lang:sh decode:true">su - instanceowner
db2 connect to MYSAMPLEDB
</pre>

<p style="text-align: justify;">
      Then, grant connect permission on the current database (in this case <strong>MYSAMPLEDB</strong>) to the desired user with the &#8220;<strong>grant connect</strong>&#8221; command. In this example we will grant connect permissions to the user named &#8220;<strong>user1</strong>&#8220;:
</p>

<pre class="theme:solarized-dark font:ubuntu-mono nums:false wrap:true lang:sh decode:true">db2 grant connect on database to user user1</pre>

<p style="text-align: justify;">
      Next, we will grant writing permissions to &#8220;<strong>user1</strong>&#8221; in all the tabschemas except SYSTEM:
</p>

<pre class="theme:solarized-dark font:ubuntu-mono nums:false wrap:true lang:sh decode:true">db2 "select 'GRANT SELECT,INSERT,UPDATE,DELETE ON TABLE ' || rtrim(tabschema)||'.'|| rtrim(TABNAME) || '  TO USER user1;' from syscat.tables where tabschema not like '%SYS%' " &gt; /tmp/grants.ddl</pre>

<p style="text-align: justify;">
      Instead of only one user, with the following command, permissions are granted to a group of users named &#8220;<strong>db2group</strong>&#8221; in all the schemas except SYSTEM:
</p>

<pre class="theme:solarized-dark font:ubuntu-mono nums:false wrap:true lang:sh decode:true">db2 "select 'GRANT SELECT ON TABLE ' || rtrim(tabschema)||'.'|| rtrim(TABNAME) || '  TO GROUP db2group;' from syscat.tables where tabschema not like '%SYS%' " &gt; /tmp/grants.ddl</pre>

<p style="text-align: justify;">
      In any of those cases, the file <strong>/tmp/grants.ddl</strong> will contain a long list of commands that will need to be executed in order to actually provide the permissions. Checking the newly created file is recommended in order to see if any errors occurred. If everything is fine, we can proceed to the next step.
</p>

<p style="text-align: justify;">
      As said before, it is needed to execute the list of commands that were inserted into the <strong>/tmp/grants.ddl</strong> file. In out example, this is done like this:
</p>

<pre class="theme:solarized-dark font:ubuntu-mono nums:false wrap:true lang:sh decode:true">db2 -tvf /tmp/grants.ddl &gt; /tmp/grants_output.txt</pre>

<p>The <strong>/tmp/grants_output.txt</strong> file will contain any errors that may have occurred. This is easier, right?</p>

  </div><a class="u-url" href="/blog/db2-permissions" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name"></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>No one can win against kippel.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
